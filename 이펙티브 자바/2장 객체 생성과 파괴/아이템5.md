# 아이템 6 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라
## 의존성을 가지는 클래스는 인스턴스를 생성할 때 의존 객체를 주입하여 생성하자
* 의존성을 가지는 클래스는 유틸리티 클래스나 싱글턴 방식이 적합하지 않다. 
* 왜냐하면 의존성이 있다면 상황에 맞게 해당 클래스의 역할이 달라져야 하는데 위의 두 가지 방식은 그렇지 못하기 때문이다.
* 따라서 인스턴스를 생성할 때  생성자에 필요한 자원을 넘겨주는 방식을 통해 의존성을 주입하면 인스턴스 생성 시점에 알맞은 역할을 부여할 수 있기 때문이다.
* 이렇게 의존성 주입 방식을 사용하면 불변을 보장하기 때문에 클라이언트가 안심하고 공유할 수 있다. 
## 생성자에 자원 팩터리를 넘겨주는 방식
* 생성자에 자원 팩터리를 넘겨주게 된다면 클라이언트가 만들고자하는 특정 타입의 인스턴스를 반복하여 만들수 있다.
* 즉, 팩터리 메서드 패턴을 구현한 것이다.
```java
Mossaic create(Supplier<? extends Tile> tileFactory) {...}
```
* 위의 예는 Tile의 하위타입 팩터리만 넘겨준다면 Tile로 이루어진 Mossaic을 반환하는 예로서 팩터리 메서드 패턴을 잘 보여주는 예이다.
## 의존 객체 주입의 장점
* 의존 객체 주입은 유연성과 테스트 용이성을 개선해준다. 
* 그러나 이러한 방식이 큰 프로젝트에서는 코드를 어지럽게 만들기도 한다.
* 이러한 단점을 보완하기 위해 개발자들은 Spring이나 Guice, Dagger 등의 프레임워크를 이용한다.
## 핵심 정리
클래스가 내부적으로 하나 이상의 자원에 의존하고 그 자원이 클래스 동작에 영향을 준다면 유틸리티 클래스나 싱글턴은 옳지 않다. 대신 필요한 자원을 생성자(정적 팩터리, 생성자)에 넘겨주어 유연하고 테스트하기 쉽게 만들자
